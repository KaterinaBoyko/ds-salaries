from sklearn.tree import DecisionTreeRegressor
from sklearn.metrics import mean_squared_error
from sklearn import tree
import matplotlib.pyplot as plt

# Построим модель дерева решений
dt_model = DecisionTreeRegressor(random_state=42)
dt_model.fit(X_train, y_train)

# Предсказания модели дерева решений
dt_predictions = dt_model.predict(X_test)

# Оценим качество модели с помощью RMSE и R-квадрат
dt_rmse = mean_squared_error(y_test, dt_predictions, squared=False)  # RMSE
dt_r2 = r2_score(y_test, dt_predictions)

# Визуализация дерева решений
plt.figure(figsize=(20, 10))
tree.plot_tree(dt_model, filled=True, feature_names=['work_year', 'remote_ratio'], rounded=True)
plt.title('Визуализация дерева решений')
plt.show()

# Вывод метрик RMSE и R-квадрат
dt_rmse, dt_r2

